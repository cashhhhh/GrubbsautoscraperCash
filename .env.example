# ─────────────────────────────────────────────────────────────
# Facebook Marketplace Inventory Sync — Environment Variables
# Copy this file to .env and fill in your values.
# ─────────────────────────────────────────────────────────────

# ── Dealer website ───────────────────────────────────────────
# RSS feed URL (DealerOn used-inventory feed)
RSS_URL=https://www.infinitiofsanantonio.com/rss-usedinventory.aspx

# Base URL for the dealership website (no trailing slash)
DEALER_BASE_URL=https://www.infinitiofsanantonio.com

# ── Facebook / Meta credentials ──────────────────────────────
# Your Meta App ID and Secret (from developers.facebook.com → Your App → Settings → Basic)
FB_APP_ID=899738769223393
FB_APP_SECRET=your_app_secret_here

# System User access token — SETUP STEPS:
#   1. Go to business.facebook.com → Settings → Users → System Users
#   2. Create a System User (Admin role)
#   3. Click "Generate New Token" → select app "auto poster" (899738769223393)
#   4. Enable permissions: catalog_management, business_management, ads_management
#   5. Copy the token below (it does not expire for System Users)
FB_ACCESS_TOKEN=your_system_user_access_token_here

# Your Facebook Product Catalog ID — SETUP STEPS:
#   1. Go to business.facebook.com → All Tools → Catalogs
#   2. Click "Create Catalog" → choose "Automotive" (not ecommerce)
#   3. Name it e.g. "Grubbs INFINITI Used Inventory"
#   4. Open the catalog → Settings tab → copy the Catalog ID below
#   5. In that same catalog, add your System User as an Admin under "Assign Partners"
FB_CATALOG_ID=your_catalog_id_here

# Meta Graph API version (update when Meta releases a new stable version)
FB_API_VERSION=v21.0

# ── Tuning ───────────────────────────────────────────────────
# Number of vehicles per API batch request (max 1000, default 50)
BATCH_SIZE=50

# Number of VDP pages to scrape in parallel for pricing (default 5)
# Lower this if you see rate-limit errors from the dealer site.
PRICE_SCRAPE_CONCURRENCY=5

# Timeout per VDP page in milliseconds (default 20000 = 20s)
PRICE_SCRAPE_TIMEOUT_MS=20000

# Output path for the CSV backup feed file
CSV_OUTPUT_PATH=inventory_feed.csv

# ── Dashboard ─────────────────────────────────────────────
# Port the web dashboard listens on (default 8000)
DASHBOARD_PORT=8000

# SQLite database file path (auto-created on first run)
DB_PATH=inventory.db

# Dealer addendum / market adjustment in dollars (0 = disabled)
# Dashboard shows: Internet Price + Addendum = Customer Price
ADDENDUM_AMOUNT=0

# Only process RSS feeds whose URL contains this domain.
# Prevents accidentally pulling partner / other-store feeds.
SA_DOMAIN_FILTER=infinitiofsanantonio.com
